{% extends 'base.html.twig' %}

{% block title %}Kategorie{% endblock %}

{% block body %}
<div class="page-header">
    <h1>Kategorie</h1>
    <a href="{{ path('catalog_category_create') }}" class="btn btn-success">+ Dodaj kategorię</a>
</div>

{% for flash in app.flashes('success') %}
    <div class="alert alert-success">{{ flash }}</div>
{% endfor %}
{% for flash in app.flashes('danger') %}
    <div class="alert alert-danger">{{ flash }}</div>
{% endfor %}

{% if categories|length > 0 %}
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nazwa</th>
                <th>Akcje</th>
            </tr>
        </thead>
        <tbody>
            {% for category in categories %}
                <tr>
                    <td>{{ category.id }}</td>
                    <td><strong>{{ category.name }}</strong></td>
                    <td>
                        <div class="btn-group">
                            <a href="{{ path('catalog_category_edit', {id: category.id}) }}" class="btn btn-warning btn-sm">Edytuj</a>
                            <form action="{{ path('catalog_category_delete', {id: category.id}) }}" method="post" data-turbo="false" onsubmit="return confirm('Czy na pewno chcesz usunąć tę kategorię?')">
                                <button type="submit" class="btn btn-danger btn-sm">Usuń</button>
                            </form>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="empty-state">
        <p>Brak kategorii</p>
        <a href="{{ path('catalog_category_create') }}" class="btn btn-primary">Dodaj pierwszą kategorię</a>
    </div>
{% endif %}
{% endblock %}
